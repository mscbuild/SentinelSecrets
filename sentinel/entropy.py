# sentinel/entropy.py
import math
from collections import Counter

def shannon_entropy(data: str) -> float:
    if not data:
        return 0.0

    counts = Counter(data)
    length = len(data)

    return -sum(
        (count / length) * math.log2(count / length)
        for count in counts.values()
    )
